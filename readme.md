# GeoFlux Visualizer (React + p5.js)

GeoFlux Visualizer は、右側のパネルをいじると、真ん中のプレビューでパターンがリアルタイムに変わる「ジェネレーティブアート」アプリだよ。

## ✨ できること

### 🎨 描画モード
- **Moire (モアレ)**: 円の重なりで干渉模様を作る
- **Spiral (螺旋)**: 螺旋っぽい線の動き
- **Grid (グリッド)**: グリッド干渉
- **Random (ランダム)**: 点をばらまいて線でつなぐ（星屑っぽい）
- **Flower (フラワー)**: 花びらみたいな放射パターン
- **Wave (ウェーブ)**: 波の線を重ねる
- **Shader (GLSL)**: シェーダー描画

### 🎵 音声リアクティブ（音で動く）
- **音声ファイル**（mp3 / wav など）を読み込んで、パターンを音に合わせて動かせる
- 感度（Sensitivity）と、Low/Mid/High（Bass/Mid/Treble）を別々に調整できる
- 音量（Volume）もアプリ側で調整できる

※ 今のバージョンは **マイク入力は非対応** で、音声ファイルのみだよ。
※ 音声まわりは **p5.sound** で動いてるよ（p5.FFT で低音/中音/高音を取ってるよ）。

### 🛠 Proモード（カスタムラボ）
- 通常モードとは別に、より細かいパラメータを触れる **Proモード** がある
- スナップショット（Save/Load）とランダム生成で、設定を試しやすい
- オーディオのマッピング（どの音域に反応させるか）も設定できる

### ⚡ 省エネ / 快適化
- サイドパネルの「省エネ」で **ぼかし（ガラス）をオフ** にできる（バッテリー節約になりやすい）
- **FPS上限（60/30/15）** を選べる（重いときは 30 や 15 がオススメ）
- プレビュー左下の **▶ / ⏸ / ⏹** で、パターンの動きを「再生 / 一時停止 / 停止」できる

### 💾 便利機能
- **⛶ 全画面**（ボタン / プレビューのダブルクリック）
- **ズーム**（右下のスライダーで拡大縮小）
- **📷 画像保存**（PNG）
- **📋 スクリプトをコピー**（いまの設定から p5.js 用スクリプトを生成してコピー）
- **ポストプロセス**（ミラー/色反転/グリッチ）

## 🕹 使い方（アプリ内）

### 通常モード
1. 右側のパネルで **パターンモード** を選ぶ
2. 必要なら **カラーパレット** を選ぶ（※シェーダーモードでは無効）
3. スライダーで速度・透明度・残像などを調整する
4. 「おすすめプリセット」からもすぐ切り替えできるよ
5. 重いときは「省エネ」で **FPS上限** を下げたり、プレビューを **⏸** にするとラクになるよ

### Proモード
1. 通常モードで **「🛠 Proモードを起動」** を押す
2. Proモードで試したい設定をいじる
3. 戻るときは **「通常モードに戻る」** を押す

## 🚀 アプリの起動方法（ローカル）

```bash
npm install
npm run dev
```

起動できたら、ターミナルに出るURLをブラウザで開いてね。  
（例）

```text
http://localhost:5173
```

## 🧱 ビルド / プレビュー

```bash
npm run build
npm run preview
```

## ✅ テスト

```bash
npm test
```

## 🧩 技術スタック
- React 19
- TypeScript
- Vite
- p5.js
- p5.sound（音声ファイル再生 + 解析）

## ⚠️ 注意
- **マイク入力は今は非対応**（音声ファイルのみ）
- 動作が重いときは「省エネ」で **ぼかしOFF / FPS上限(30/15)**、あとプレビューの **⏸** が効きやすいよ
- それでも重いときは、点の数やレイヤー数などを減らすと軽くなるよ

## 📄 ライセンス
- 個人・非商用のみ
- 改造はローカルのみ（再配布/公開/PRは禁止）
- 詳細は `LICENSE` を見てね
